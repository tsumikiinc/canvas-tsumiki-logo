
/*!
Canvas Tsumiki logo
(c) Tsumiki inc.
 */

(function() {
  var TsumikiLogo;

  TsumikiLogo = (function() {
    var _extend, _setSize;

    _extend = function(out) {
      var i, key, val, _i, _ref, _ref1;
      out = out || {};
      for (i = _i = 1, _ref = arguments.length; 1 <= _ref ? _i < _ref : _i > _ref; i = 1 <= _ref ? ++_i : --_i) {
        if (!arguments[i]) {
          continue;
        }
        _ref1 = arguments[i];
        for (key in _ref1) {
          val = _ref1[key];
          if (arguments[i].hasOwnProperty(key)) {
            out[key] = val;
          }
        }
      }
      return out;
    };

    TsumikiLogo.defaults = {
      size: 256,
      fillColor: ['#23AAA4', '#5AB5B0', '#78BEB2', '#686F89', '#DC5D54', '#DD6664', '#D94142', '#E78E21', '#E9A21F', '#EDB51C'],
      fill: true,
      lineWidth: 0,
      lineColor: '#333',
      ratio: 1,
      pieceLength: 8
    };

    _setSize = function(size) {
      if (size != null) {
        if (this.options.ratio === 1) {
          this.canvas.width = size;
          return this.canvas.height = size;
        } else {
          this.canvas.width = size * this.options.ratio;
          this.canvas.height = size * this.options.ratio;
          this.canvas.style.width = "" + this.options.size + "px";
          return this.canvas.style.height = "" + this.options.size + "px";
        }
      }
    };

    function TsumikiLogo(canvas, options) {
      this.canvas = canvas;
      this.context = this.canvas.getContext('2d');
      this.options = _extend({}, TsumikiLogo.defaults, options);
      _setSize.call(this, this.options.size);
    }

    TsumikiLogo.prototype.setSize = function(size) {
      this.options.size = size;
      _setSize.call(this, size);
      return this;
    };

    TsumikiLogo.prototype.update = function() {
      if (this.options.ratio === 1) {
        this.pieceSize = this.options.size / this.options.pieceLength;
      } else {
        this.pieceSize = this.options.size / (this.options.pieceLength / this.options.ratio);
      }
      this.context.scale(2, 1);
      this.context.translate(this.pieceSize * 1.25, this.pieceSize / 2);
      this.context.moveTo(this.pieceSize, this.pieceSize);
      this.context.rotate(Math.PI / 4);
      (function(_this) {
        return (function() {
          var fill, i, _drawLoop, _i, _len, _ref, _results;
          i = 0;
          _drawLoop = [[_this.pieceSize, 0], [_this.pieceSize, 0], [-_this.pieceSize, _this.pieceSize]];
          _ref = _this.options.fillColor;
          _results = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            fill = _ref[_i];
            _this.context.translate(_drawLoop[i][0], _drawLoop[i][1]);
            if (_this.options.fill) {
              _this.context.fillStyle = fill;
              _this.context.fillRect(0, 0, _this.pieceSize, _this.pieceSize);
            }
            if (_this.options.lineWidth > 0) {
              _this.context.lineWidth = _this.options.lineWidth;
              _this.context.strokeStyle = _this.options.lineColor;
              _this.context.strokeRect(0, 0, _this.pieceSize, _this.pieceSize);
            }
            if (i === 2) {
              _results.push(i = 0);
            } else {
              _results.push(i++);
            }
          }
          return _results;
        });
      })(this)();
      return this;
    };

    return TsumikiLogo;

  })();

  window.TsumikiLogo || (window.TsumikiLogo = TsumikiLogo);

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy10c3VtaWtpLWxvZ28uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7OztHQUFBO0FBQUE7QUFBQTtBQUFBLE1BQUEsV0FBQTs7QUFBQSxFQUtNO0FBR0osUUFBQSxpQkFBQTs7QUFBQSxJQUFBLE9BQUEsR0FBVSxTQUFDLEdBQUQsR0FBQTtBQUNSLFVBQUEsNEJBQUE7QUFBQSxNQUFBLEdBQUEsR0FBTSxHQUFBLElBQU8sRUFBYixDQUFBO0FBQ0EsV0FBUyxtR0FBVCxHQUFBO0FBQ0UsUUFBQSxJQUFBLENBQUEsU0FBaUIsQ0FBQSxDQUFBLENBQWpCO0FBQXlCLG1CQUF6QjtTQUFBO0FBQ0E7QUFBQSxhQUFBLFlBQUE7MkJBQUE7QUFDRSxVQUFBLElBQUcsU0FBVSxDQUFBLENBQUEsQ0FBRSxDQUFDLGNBQWIsQ0FBNEIsR0FBNUIsQ0FBSDtBQUNFLFlBQUEsR0FBSSxDQUFBLEdBQUEsQ0FBSixHQUFXLEdBQVgsQ0FERjtXQURGO0FBQUEsU0FGRjtBQUFBLE9BREE7QUFNQSxhQUFPLEdBQVAsQ0FQUTtJQUFBLENBQVYsQ0FBQTs7QUFBQSxJQVdBLFdBQUMsQ0FBQSxRQUFELEdBQ0U7QUFBQSxNQUFBLElBQUEsRUFBTSxHQUFOO0FBQUEsTUFDQSxTQUFBLEVBQVcsQ0FDVCxTQURTLEVBRVQsU0FGUyxFQUdULFNBSFMsRUFJVCxTQUpTLEVBS1QsU0FMUyxFQU1ULFNBTlMsRUFPVCxTQVBTLEVBUVQsU0FSUyxFQVNULFNBVFMsRUFVVCxTQVZTLENBRFg7QUFBQSxNQWFBLElBQUEsRUFBTSxJQWJOO0FBQUEsTUFjQSxTQUFBLEVBQVcsQ0FkWDtBQUFBLE1BZUEsU0FBQSxFQUFXLE1BZlg7QUFBQSxNQWdCQSxLQUFBLEVBQU8sQ0FoQlA7QUFBQSxNQWlCQSxXQUFBLEVBQWEsQ0FqQmI7S0FaRixDQUFBOztBQUFBLElBK0JBLFFBQUEsR0FBVyxTQUFDLElBQUQsR0FBQTtBQUNULE1BQUEsSUFBRyxZQUFIO0FBQ0UsUUFBQSxJ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SSxHQUFuQjthQUFBLE1BQUE7NEJBQTBCLENBQUEsSUFBMUI7YUFYRjtBQUFBOzBCQVJDO1FBQUEsQ0FBQSxFQUFBO01BQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFILENBQUEsQ0FiQSxDQUFBO0FBa0NBLGFBQU8sSUFBUCxDQW5DTTtJQUFBLENBdERSLENBQUE7O3VCQUFBOztNQVJGLENBQUE7O0FBQUEsRUFtR0EsTUFBTSxDQUFDLGdCQUFQLE1BQU0sQ0FBQyxjQUFnQixZQW5HdkIsQ0FBQTtBQUFBIiwiZmlsZSI6ImNhbnZhcy10c3VtaWtpLWxvZ28uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIjIyMhXG5DYW52YXMgVHN1bWlraSBsb2dvXG4oYykgVHN1bWlraSBpbmMuXG4jIyNcblxuY2xhc3MgVHN1bWlraUxvZ29cblxuICAjIEhlbHBlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIF9leHRlbmQgPSAob3V0KSAtPlxuICAgIG91dCA9IG91dCBvciB7fVxuICAgIGZvciBpIGluIFsxLi4uYXJndW1lbnRzLmxlbmd0aF1cbiAgICAgIHVubGVzcyBhcmd1bWVudHNbaV0gdGhlbiBjb250aW51ZVxuICAgICAgZm9yIGtleSwgdmFsIG9mIGFyZ3VtZW50c1tpXVxuICAgICAgICBpZiBhcmd1bWVudHNbaV0uaGFzT3duUHJvcGVydHkga2V5XG4gICAgICAgICAgb3V0W2tleV0gPSB2YWxcbiAgICByZXR1cm4gb3V0XG5cblxuXG4gIEBkZWZhdWx0cyA9XG4gICAgc2l6ZTogMjU2XG4gICAgZmlsbENvbG9yOiBbXG4gICAgICAnIzIzQUFBNCdcbiAgICAgICcjNUFCNUIwJ1xuICAgICAgJyM3OEJFQjInXG4gICAgICAnIzY4NkY4OSdcbiAgICAgICcjREM1RDU0J1xuICAgICAgJyNERDY2NjQnXG4gICAgICAnI0Q5NDE0MidcbiAgICAgICcjRTc4RTIxJ1xuICAgICAgJyNFOUEyMUYnXG4gICAgICAnI0VEQjUxQydcbiAgICBdXG4gICAgZmlsbDogdHJ1ZVxuICAgIGxpbmVXaWR0aDogMFxuICAgIGxpbmVDb2xvcjogJyMzMzMnXG4gICAgcmF0aW86IDFcbiAgICBwaWVjZUxlbmd0aDogOFxuXG4gIF9zZXRTaXplID0gKHNpemUpIC0+XG4gICAgaWYgc2l6ZT9cbiAgICAgIGlmIEBvcHRpb25zLnJhdGlvIGlzIDFcbiAgICAgICAgQGNhbnZhcy53aWR0aCA9IHNpemVcbiAgICAgICAgQGNhbnZhcy5oZWlnaHQgPSBzaXplXG4gICAgICBlbHNlXG4gICAgICAgIEBjYW52YXMud2lkdGggPSBzaXplICogQG9wdGlvbnMucmF0aW9cbiAgICAgICAgQGNhbnZhcy5oZWlnaHQgPSBzaXplICogQG9wdGlvbnMucmF0aW9cbiAgICAgICAgQGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiI3tAb3B0aW9ucy5zaXplfXB4XCJcbiAgICAgICAgQGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIiN7QG9wdGlvbnMuc2l6ZX1weFwiXG5cbiAgY29uc3RydWN0b3I6IChjYW52YXMsIG9wdGlvbnMpIC0+XG4gICAgQGNhbnZhcyA9IGNhbnZhc1xuICAgIEBjb250ZXh0ID0gQGNhbnZhcy5nZXRDb250ZXh0ICcyZCdcbiAgICBAb3B0aW9ucyA9IF9leHRlbmQge30sIFRzdW1pa2lMb2dvLmRlZmF1bHRzLCBvcHRpb25zXG5cbiAgICBfc2V0U2l6ZS5jYWxsIEAsIEBvcHRpb25zLnNpemVcblxuICBzZXRTaXplOiAoc2l6ZSkgLT5cbiAgICBAb3B0aW9ucy5zaXplID0gc2l6ZVxuICAgIF9zZXRTaXplLmNhbGwgQCwgc2l6ZVxuICAgIHJldHVybiB0aGlzXG5cbiAgdXBkYXRlOiAtPlxuICAgIGlmIEBvcHRpb25zLnJhdGlvIGlzIDFcbiAgICAgIEBwaWVjZVNpemUgPSBAb3B0aW9ucy5zaXplIC8gQG9wdGlvbnMucGllY2VMZW5ndGhcbiAgICBlbHNlXG4gICAgICBAcGllY2VTaXplID0gQG9wdGlvbnMuc2l6ZSAvIChAb3B0aW9ucy5waWVjZUxlbmd0aCAvIEBvcHRpb25zLnJhdGlvKVxuXG4gICAgQGNvbnRleHQuc2NhbGUgMiwgMVxuXG4gICAgQGNvbnRleHQudHJhbnNsYXRlIEBwaWVjZVNpemUgKiAxLjI1LCBAcGllY2VTaXplIC8gMlxuICAgIEBjb250ZXh0Lm1vdmVUbyBAcGllY2VTaXplLCBAcGllY2VTaXplXG5cbiAgICBAY29udGV4dC5yb3RhdGUgTWF0aC5QSSAvIDRcblxuICAgICMgdG9kb1xuICAgIGRvID0+XG4gICAgICBpID0gMFxuICAgICAgX2RyYXdMb29wID0gW1xuICAgICAgICBbQHBpZWNlU2l6ZSwgMF1cbiAgICAgICAgW0BwaWVjZVNpemUsIDBdXG4gICAgICAgIFstQHBpZWNlU2l6ZSwgQHBpZWNlU2l6ZV1cbiAgICAgIF1cblxuICAgICAgZm9yIGZpbGwgaW4gQG9wdGlvbnMuZmlsbENvbG9yXG4gICAgICAgIEBjb250ZXh0LnRyYW5zbGF0ZSBfZHJhd0xvb3BbaV1bMF0sIF9kcmF3TG9vcFtpXVsxXVxuICAgICAgICBpZiBAb3B0aW9ucy5maWxsXG4gICAgICAgICAgQGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFxuICAgICAgICAgIEBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIEBwaWVjZVNpemUsIEBwaWVjZVNpemUpXG5cbiAgICAgICAgaWYgQG9wdGlvbnMubGluZVdpZHRoID4gMFxuICAgICAgICAgIEBjb250ZXh0LmxpbmVXaWR0aCA9IEBvcHRpb25zLmxpbmVXaWR0aFxuICAgICAgICAgIEBjb250ZXh0LnN0cm9rZVN0eWxlID0gQG9wdGlvbnMubGluZUNvbG9yXG4gICAgICAgICAgQGNvbnRleHQuc3Ryb2tlUmVjdCgwLCAwLCBAcGllY2VTaXplLCBAcGllY2VTaXplKVxuXG4gICAgICAgIGlmIGkgaXMgMiB0aGVuIGkgPSAwIGVsc2UgaSsrXG5cbiAgICByZXR1cm4gdGhpc1xuXG53aW5kb3cuVHN1bWlraUxvZ28gb3I9IFRzdW1pa2lMb2dvIl19